<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Anna Daan & Vidya Daan</title>
<link href="https://fonts.googleapis.com/css2?family=Playfair+Display:wght@700&family=Cinzel:wght@700&family=Inter:wght@400;600&display=swap" rel="stylesheet">
<style>
  body {
    margin: 0;
    padding: 0;
    background: white;
    scroll-behavior: smooth;
    font-family: 'Inter', sans-serif;
    color: #222;
  }

  .divider-img {
    width: 100%;
    height: auto;
    display: block;
  }

  header {
    text-align: center;
    padding: 40px 20px 20px;
  }

  header h1 {
    font-size: 3rem;
    font-family: 'Playfair Display', serif;
    color: #2E3A59;
    margin-bottom: 30px;
  }

  .nav-buttons {
    margin-bottom: 30px;
  }

  .nav-buttons button {
    background: #004080;
    color: white;
    border: none;
    padding: 14px 28px;
    font-size: 3rem;
    margin: 10px;
    border-radius: 50px;
    cursor: pointer;
    font-weight: bold;
    transition: 0.3s ease;
    position: relative;
  }

  section {
    max-width: 1300px;
    padding: 60px 40px;
    display: flex;
    flex-direction: column;
    align-items: center;
    margin: auto;
    text-align: center;
  }

  section img {
    width: 850px;
    height: auto;
    margin-bottom: 20px;
    border-radius: 5px;
  }

  .content {
    width: 100%;
    max-width: 800px;
    margin: 0 auto;
  }

  .content h2 {
    font-size: 2.8rem;
    font-family: 'Cinzel', serif;
    margin-bottom: 25px;
  }

  #vidya-daan h2 { color: #C2185B; }
  #anna-daan h2 { color: #1A237E; }

  .content p {
    font-size: 2.5rem;
    margin-bottom: 25px;
    color: #444;
  }

  .donate-btn {
    background: #007BFF;
    color: white;
    border: none;
    padding: 14px 30px;
    font-size: 3rem;
    border-radius: 30px;
    cursor: pointer;
    transition: 0.3s;
    margin-top: 10px;
  }

  .donate-btn:hover {
    background: #0056b3;
  }

  .highlight {
    color: red;
    font-size: 3rem;
    font-weight: bold;
  }

  /* Modal centered horizontally */
  .modal {
    display: none;
    position: absolute;
    z-index: 1000;
    background-color: white;
    border: 2px solid #ccc;
    border-radius: 15px;
    padding: 30px;
    width: 400px;
    box-shadow: 0 4px 8px rgba(0,0,0,0.2);
  }

  .modal-content h3 {
    font-size: 2rem;
    margin-bottom: 20px;
  }

  .modal-content input,
  .modal-content textarea {
    width: 100%;
    padding: 14px;
    margin-bottom: 15px;
    border-radius: 8px;
    border: 1px solid #ccc;
    font-size: 1.5rem;
  }

  input::placeholder,
  textarea::placeholder {
    font-size: 1.8rem;
    font-weight: bold;
    color: #333;
    opacity: 1;
  }

  .close {
    color: #aaa;
    float: right;
    font-size: 28px;
    font-weight: bold;
    cursor: pointer;
  }

  .close:hover {
    color: black;
  }
</style>
</head>
<body>

<header>
  <h1>Support Our Noble Causes</h1>
  <div class="nav-buttons">
    <button onclick="scrollToSection('anna-daan')">Anna Daan</button>
    <button onclick="scrollToSection('vidya-daan')">Vidya Daan</button>
  </div>
</header>

<!-- Vidya Daan Section -->
<section id="vidya-daan">
  <div class="content">
    <h2 style="font-size: 50px;">Vidya Daan</h2>
    <p>Empowering children through quality education and learning support.</p>
    <div>
      <span style="font-size: 45px;">Annual Fee per Student: <span class="highlight"><br>₹38,000</span></span>
      <button class="donate-btn" onclick="openForm(event, 38000)">Donate</button>
    </div>
    <div>
      <span style="font-size: 45px;">Books & Learning Materials: <span class="highlight"><br>₹6,000</span></span>
      <button class="donate-btn" onclick="openForm(event, 6000)">Donate</button>
    </div>
    <div>
      <span style="font-size: 45px;">Total per Student per Year: <span class="highlight"><br>₹44,000</span></span>
      <button class="donate-btn" onclick="openForm(event, 44000)">Donate</button>
    </div>
    <div>
      <span style="font-size: 45px;">Annual Support Needed: <span class="highlight"><br>₹8800000</span></span>
      <button class="donate-btn" onclick="openForm(event, 8800000)">Donate</button>
    </div>
  </div>
</section>

<img src="curve_divi.png" alt="Divider" class="divider-img">

<!-- Anna Daan Section -->
<section id="anna-daan">
  <div class="content">
    <img src="anna_dan.png" alt="Meal Support">
    <h2 style="font-size: 50px;">Anna Daan</h2>
    <p>Providing nutritious meals to every student, every day.</p>
   <div>
      <span style="font-size: 45px;">Annual Fee per Student: <span class="highlight"><br>₹38,000</span></span>

      <button class="donate-btn" onclick="openForm(event, 38000)">Donate</button>
    </div>
    <div>
      <span style="font-size: 45px;">Books & Learning Materials: <span class="highlight"><br>₹6,000</span></span>
<label><input type="radio" name="tax_tuition" checked> 80G</label>

      <button class="donate-btn" onclick="openForm(event, 6000)">Donate</button>
    </div>
    <div>
      <span style="font-size: 45px;">Total per Student per Year: <span class="highlight"><br>₹44,000</span></span>
<label><input type="radio" name="tax_tuition" checked> 80G</label>

      <button class="donate-btn" onclick="openForm(event, 44000)">Donate</button>
    </div>
    <div>
      <span style="font-size: 45px;">Annual Support Needed: <span class="highlight"><br>₹8800000</span></span>
<label><input type="radio" name="tax_tuition" checked> 80G</label>

      <button class="donate-btn" onclick="openForm(event, 8800000)">Donate</button>
    </div>

  </div>
</section>

<!-- Donation Modal -->
  <div id="donationModal" class="modal" aria-hidden="true">
    <div class="modal-content">
      <div class="modal-header">
        <h3>Donate Now</h3>
        <button class="close" onclick="closeForm()" aria-label="Close">&times;</button>
      </div>
      <form id="donationForm" method="post" action="donation.php">
        <input type="text" id="fullName" name="fullName"  placeholder="Full Name" required>
        <input type="email" id="email" name="email"   placeholder="Email" required>
        <input type="text" id="mobile" name="mobile"   placeholder="Mobile Number" inputmode="tel" pattern="[0-9+\-\s]{7,}" required>
        <input type="text" id="pan"  name="pan"  placeholder="PAN Number">
        <input type="number" id="amount" name="amount"   placeholder="Donation Amount ₹" required>
        <textarea id="message" placeholder="Purpose / Message"></textarea>
        <button type="submit" class="submit-btn">Submit Donation</button>
      </form>
    </div>
  </div>

  <script>
    // --------- Helpers ----------
    function scrollToSection(id) {
      document.getElementById(id).scrollIntoView({ behavior: 'smooth', block: 'start' });
    }

    // --------- Modal logic ----------
    const modal = document.getElementById('donationModal');
    const amountField = document.getElementById('amount');
    const messageField = document.getElementById('message');

    function positionModalInSection(sectionEl) {
      // Temporarily show to measure size (avoid offsetWidth/Height = 0)
      const prevDisplay = modal.style.display;
      const prevVisibility = modal.style.visibility;
      modal.style.visibility = 'hidden';
      modal.style.display = 'block';

      const sectionRect = sectionEl.getBoundingClientRect();
      const modalW = modal.offsetWidth;
      const modalH = modal.offsetHeight;

      // Horizontal: center on page
      let left = window.scrollX + (document.documentElement.clientWidth / 2) - (modalW / 2);
      // Vertical: center within the section
      let top = window.scrollY + sectionRect.top + (sectionRect.height / 2) - (modalH / 2);

      // Keep some padding from edges
      left = Math.max(12, left);
      top = Math.max(window.scrollY + 12, top);

      modal.style.left = left + 'px';
      modal.style.top = top + 'px';

      // Restore visibility state
      modal.style.visibility = prevVisibility || 'visible';
      modal.style.display = prevDisplay || 'block';
    }

    function openForm(event, amount, purpose) {
      const section = event.currentTarget.closest('section');

      // Pre-fill fields
      amountField.value = amount ?? '';
      messageField.value = purpose ?? '';

      // Show modal and position it in the clicked section
      modal.style.display = 'block';
      modal.setAttribute('aria-hidden', 'false');
      positionModalInSection(section);

      // Close on outside click
      setTimeout(() => {
        document.addEventListener('mousedown', onOutsideClick);
        document.addEventListener('keydown', onEsc, { once: true });
        window.addEventListener('resize', onReposition);
        window.addEventListener('scroll', onReposition, { passive: true });
      }, 0);

      function onReposition() { positionModalInSection(section); }
      function onEsc(e) { if (e.key === 'Escape') closeForm(); }
      function onOutsideClick(e) {
        if (!modal.contains(e.target)) { closeForm(); }
      }

      // Save listeners so we can remove them on close
      modal._cleanup = () => {
        document.removeEventListener('mousedown', onOutsideClick);
        window.removeEventListener('resize', onReposition);
        window.removeEventListener('scroll', onReposition);
      };
    }

    function closeForm() {
      modal.style.display = 'none';
      modal.setAttribute('aria-hidden', 'true');
      if (typeof modal._cleanup === 'function') modal._cleanup();
    }

    // --------- Submit / POST to Node backend ----------
    // (Your original code had a comment here — keep your existing submission handling as needed)
  </script>

</body>
</html>

